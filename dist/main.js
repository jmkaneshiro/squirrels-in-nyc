!function(){var e={190:function(e,n,t){t(80)},80:function(e){e.exports={MAPBOX_TOKEN:process.env.MAPBOX_TOKEN}}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={exports:{}};return e[r](i,i.exports,t),i.exports}!function(){"use strict";function e(){var e=L.map("mapid"),n=L.Icon.extend({options:{iconSize:[20,20],iconAnchor:[10,20],popupAnchor:[5,-18]}}),t=new n({iconUrl:"dist/images/gray-squirrel-icon.svg"}),r=new n({iconUrl:"dist/images/cinnamon-squirrel-icon.svg"}),o=new n({iconUrl:"dist/images/black-squirrel-icon.svg"});function i(e,n){var t=e.properties,r=t.primary_fur_color,o=t.shift,i=t.foraging,a=t.climbing,c=t.running,s=e.properties.date.replace(/(\d{2})(\d{2})(\d+)/,"$1/$2/$3");new Date(s),n.bindPopup("<h2>Details<h2>\n        <ul>\n          <li>Date: ".concat(s,"</li>\n          <li>Fur Color: ").concat(r,"</li>\n          <li>Shift: ").concat(o,"</li>\n          <li>Foraging: ").concat(i,"</li>\n          <li>Running: ").concat(c,"</li>\n          <li>Climibing: ").concat(a,"</li>\n        </ul>"))}L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap contributors</a>',maxZoom:18,minZoom:14,tileSize:512,zoomOffset:-1}).addTo(e);var a=new XMLHttpRequest;a.open("GET","https://data.cityofnewyork.us/resource/vfnx-vebw.geojson"),a.onload=function(){var n=JSON.parse(a.response),c=L.geoJSON(n,{filter:function(e,n){return"Black"===e.properties.primary_fur_color},pointToLayer:function(e,n){return L.marker(n,{icon:o})},onEachFeature:i}),s=L.geoJSON(n,{filter:function(e,n){return"Cinnamon"===e.properties.primary_fur_color},pointToLayer:function(e,n){return L.marker(n,{icon:r})},onEachFeature:i}),u=L.geoJSON(n,{filter:function(e,n){return"Gray"===e.properties.primary_fur_color},pointToLayer:function(e,n){return L.marker(n,{icon:t})},onEachFeature:i}),d=L.geoJSON(n,{pointToLayer:function(e,n){var i=e.properties.primary_fur_color;return"Cinnamon"===i?L.marker(n,{icon:r}):"Black"===i?L.marker(n,{icon:o}):L.marker(n,{icon:t})}});e.fitBounds(d.getBounds(),{padding:[20,20]}),e.addLayer(c),e.addLayer(s),e.addLayer(u);var l=document.getElementById("filter-fur-black"),p=document.getElementById("filter-fur-cinnamon"),f=document.getElementById("filter-fur-gray");l.addEventListener("change",(function(){this.checked?e.addLayer(c):e.removeLayer(c)})),p.addEventListener("change",(function(){this.checked?e.addLayer(s):e.removeLayer(s)})),f.addEventListener("change",(function(){this.checked?e.addLayer(u):e.removeLayer(u)}))},a.send()}function n(){var e=function(e){return fetch("https://data.cityofnewyork.us/resource/gfqj-f768.json").then((function(e){return e.json()})).then((function(n){return document.getElementById(e).innerHTML=n[Math.floor(Math.random()*n.length)].note_squirrel_park_stories}))};e("story-details-front");var n=document.getElementById("card");document.getElementById("card-front").addEventListener("click",(function(){e("story-details-back"),n.classList.toggle("flipped")}),!1),document.getElementById("card-back").addEventListener("click",(function(){e("story-details-front"),n.classList.toggle("flipped")}),!1)}t(190),window.addEventListener("DOMContentLoaded",(function(){new e(document.querySelector("[component=map")),new n,document.getElementById("squirrel-mascot").addEventListener("click",(function(e){e.currentTarget.classList.toggle("rotate-counter-clock-on-click")}))}))}()}();
//# sourceMappingURL=main.js.map