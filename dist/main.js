!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/dist/",t(t.s=4)}([function(e,n,t){},function(e,n,t){e.exports=t(2)},function(e,n,t){(function(n){e.exports={MAPBOX_TOKEN:n.env.MAPBOX_TOKEN}}).call(this,t(3))},function(e,n){var t,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:c}catch(e){r=c}}();var u,l=[],s=!1,f=-1;function d(){s&&u&&(s=!1,u.length?l=u.concat(l):f=-1,l.length&&p())}function p(){if(!s){var e=a(d);s=!0;for(var n=l.length;n;){for(u=l,l=[];++f<n;)u&&u[f].run();f=-1,n=l.length}u=null,s=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(n){try{return r.call(null,e)}catch(n){return r.call(this,e)}}}(e)}}function m(e,n){this.fun=e,this.array=n}function y(){}o.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];l.push(new m(e,n)),1!==l.length||s||a(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,n,t){"use strict";t.r(n);t(0),t(1);function r(){var e=L.map("mapid"),n=L.Icon.extend({options:{iconSize:[20,20],iconAnchor:[10,20],popupAnchor:[5,-18]}}),t=new n({iconUrl:"dist/images/gray-squirrel-icon.svg"}),r=new n({iconUrl:"dist/images/cinnamon-squirrel-icon.svg"}),o=new n({iconUrl:"dist/images/black-squirrel-icon.svg"});function i(e,n){var t=e.properties,r=t.primary_fur_color,o=t.shift,i=t.foraging,c=t.climbing,a=t.running,u=e.properties.date.replace(/(\d{2})(\d{2})(\d+)/,"$1/$2/$3");new Date(u);n.bindPopup("<h2>Details<h2>\n        <ul>\n          <li>Date: ".concat(u,"</li>\n          <li>Fur Color: ").concat(r,"</li>\n          <li>Shift: ").concat(o,"</li>\n          <li>Foraging: ").concat(i,"</li>\n          <li>Running: ").concat(a,"</li>\n          <li>Climibing: ").concat(c,"</li>\n        </ul>"))}L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap contributors</a>',maxZoom:18,minZoom:14,tileSize:512,zoomOffset:-1}).addTo(e);var c=new XMLHttpRequest;c.open("GET","https://data.cityofnewyork.us/resource/vfnx-vebw.geojson"),c.onload=function(){var n=JSON.parse(c.response),a=L.geoJSON(n,{filter:function(e,n){return"Black"===e.properties.primary_fur_color},pointToLayer:function(e,n){return L.marker(n,{icon:o})},onEachFeature:i}),u=L.geoJSON(n,{filter:function(e,n){return"Cinnamon"===e.properties.primary_fur_color},pointToLayer:function(e,n){return L.marker(n,{icon:r})},onEachFeature:i}),l=L.geoJSON(n,{filter:function(e,n){return"Gray"===e.properties.primary_fur_color},pointToLayer:function(e,n){return L.marker(n,{icon:t})},onEachFeature:i}),s=L.geoJSON(n,{pointToLayer:function(e,n){var i=e.properties.primary_fur_color;return"Cinnamon"===i?L.marker(n,{icon:r}):"Black"===i?L.marker(n,{icon:o}):L.marker(n,{icon:t})}});e.fitBounds(s.getBounds(),{padding:[20,20]}),e.addLayer(a),e.addLayer(u),e.addLayer(l);var f=document.getElementById("filter-fur-black"),d=document.getElementById("filter-fur-cinnamon"),p=document.getElementById("filter-fur-gray");f.addEventListener("change",(function(){this.checked?e.addLayer(a):e.removeLayer(a)})),d.addEventListener("change",(function(){this.checked?e.addLayer(u):e.removeLayer(u)})),p.addEventListener("change",(function(){this.checked?e.addLayer(l):e.removeLayer(l)}))},c.send()}function o(){var e=function(e){return fetch("https://data.cityofnewyork.us/resource/gfqj-f768.json").then((function(e){return e.json()})).then((function(n){return document.getElementById(e).innerHTML=n[Math.floor(Math.random()*n.length)].note_squirrel_park_stories}))};e("story-details-front");var n=document.getElementById("card");document.getElementById("card-front").addEventListener("click",(function(){e("story-details-back"),n.classList.toggle("flipped")}),!1),document.getElementById("card-back").addEventListener("click",(function(){e("story-details-front"),n.classList.toggle("flipped")}),!1)}window.addEventListener("DOMContentLoaded",(function(){new r(document.querySelector("[component=map")),new o,document.getElementById("squirrel-mascot").addEventListener("click",(function(e){e.currentTarget.classList.toggle("rotate-counter-clock-on-click")}))}))}]);
//# sourceMappingURL=main.js.map